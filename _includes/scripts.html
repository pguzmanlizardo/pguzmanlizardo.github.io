<script type="module" src="{{ base_path }}/assets/js/main.min.js"></script>

<script>
    // Force light theme: ensure no dark theme attribute persists and lock preference to light
    (function () {
        try { localStorage.setItem('theme', 'light'); } catch (e) { }

        const html = document.documentElement;
        const enforceLight = () => {
            if (html.getAttribute('data-theme') === 'dark') {
                html.removeAttribute('data-theme');
            }
        };

        // Immediately enforce on load and shortly after in case main script toggles late
        enforceLight();
        setTimeout(enforceLight, 0);
        setTimeout(enforceLight, 50);
        setTimeout(enforceLight, 200);

        // Keep enforcing if something sets data-theme later
        const obs = new MutationObserver(() => enforceLight());
        obs.observe(html, { attributes: true, attributeFilter: ['data-theme'] });

        // Ignore OS theme changes
        const mq = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)');
        if (mq && mq.addEventListener) {
            mq.addEventListener('change', () => {
                try { localStorage.setItem('theme', 'light'); } catch (e) { }
                enforceLight();
            });
        }
    })();
</script>

{% include analytics.html %}